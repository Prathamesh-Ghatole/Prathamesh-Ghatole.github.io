{% set href = item.meta.url %}
{% set img = (item.meta.image or item.meta.image_url) %}

{% if href %}
<a class="group block" href="{{ href }}" target="_blank">
    {% else %}
    <div class="group">
        {% endif %}

        <div
            class="aspect-[4/3] w-full overflow-hidden bg-gray-100 mb-6 border border-border transition-colors hover:border-secondary">
            <div
                class="h-full w-full bg-contain bg-center bg-no-repeat transition-transform duration-700 group-hover:scale-105"
                {% if img %}style="background-image: url('{{ img }}');" {% endif
                %}></div>
        </div>

        <div class="flex flex-col">
            <div class="flex items-center justify-between mb-2">
                <h3
                    class="text-xl font-medium group-hover:text-accent transition-colors">
                    {{ item.meta.name or item.meta.title }}
                </h3>
            </div>
            {% if item.body_html %}
            <div
                class="text-secondary text-sm leading-relaxed mb-4">
                {{ item.body_html | safe }}
            </div>
            {% endif %}
            {% if item.meta.stack %}
            <div class="flex flex-wrap gap-2 text-xs text-secondary/70">
                {%- for s in item.meta.stack -%}
                <span>{{ s }}</span>{% if not loop.last %} â€¢ {% endif %}
                {%- endfor -%}
            </div>
            {% endif %}
        </div>

        {% if href %}
    </a>
    {% else %}
</div>
{% endif %}
